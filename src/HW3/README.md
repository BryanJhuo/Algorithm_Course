# Homework 3

## The Hex Game
本主題介紹如何用程式設計實作 Hex 遊戲。
Hex 是一種兩人對戰遊戲，玩家分為紅方與藍方。遊戲在一個鑲嵌著六邊形格子的菱形棋盤上進行，棋盤大小不限，但通常為 11×11。每位玩家各自擁有棋盤上一對相對的邊。紅方先行。玩家輪流佔領棋盤上的空格，並以自己的顏色標記。最先以一連串相鄰的己方格子連接其所屬兩邊的玩家，即為勝者。

注意：若使用 n × n 的棋盤，我們可以用座標 (i, j) 來表示每一格，其中 i 和 j 為介於 1 到 n（包含）的整數。我們約定紅方擁有棋盤的上下邊，而藍方則擁有左右邊。

## 1 The code
`HexGUI`實作了一個圖形介面，其背後依賴`Hex`類別來表示遊戲狀態並實作遊戲規則。你現在已經可以啟動`Hex`並點擊格子，但目前點擊沒有任何反應，因為你需要自行撰寫`Hex`類別的程式碼。（不過請注意，按下鍵盤上的`C`鍵可以顯示格子的座標。）隨著你完成接下來的問題，你將需要視情況新增欄位與方法，並完成建構子`Hex(int n)`。

附註：有些介面功能可以透過鍵盤操作啟用：
- `R`：重設棋盤
- `空白鍵`：隨機下一步
- `L`：在每個格子上顯示 `label(i, j)` 的結果
- `C`：顯示格子座標
- `P`：顯示格子的顏色（可用來檢查邊界是否正確初始化）
- `A`：模擬一場完整的隨機對局

### 1.1 State of the boxes

請實作方法`Player get(int i, int j)`，此方法會回傳擁有座標 (i, j) 格子的玩家（`Player.RED` 或 `Player.BLUE`），若該格尚未被下子，則回傳 `Player.NOONE`。為了表示邊界，我們允許`i`和 `j` 的值可以是 0 或 n + 1。
你可以新增一個欄位 `Player grid[][]` 並正確初始化它。
執行 Hex 並按下鍵盤上的 `P` 鍵，以驗證初始化是否正確。

### 1.2 Game rounds
請實作方法 `boolean click(int i, int j)`，當此方法被呼叫時，代表目前輪到的玩家要在座標 (i, j) 處下子。若此為合法的落子，該方法會更新棋盤狀態並回傳 `true`；否則不做任何事並回傳 `false`。
請實作方法 `Player currentPlayer()`，此方法會回傳目前輪到的玩家。
你現在應該可以透過執行 `Hex` 來進行遊戲。按下 `R` 鍵可重設棋盤狀態；按下空白鍵（也可以長按）會隨機下一步；按下 `A` 鍵會模擬整場隨機對局。

### 1.3 Victory
我們現在希望介面能在有玩家獲勝時顯示結果。
請實作方法 `Player winner()`，此方法會回傳目前獲勝的玩家，若尚未有人獲勝，則回傳 `Player.NOONE`。我們可以使用 union-find（並查集）資料結構，並將整數 `i + (n + 2)j` 對應到格子 (i, j)。
請修改方法 `currentPlayer()`，使其在有玩家獲勝時回傳 `Player.NOONE`。
為了讓除錯更方便，你可以修改方法 `int label(int i, int j)`，例如讓它回傳格子 (i, j) 所屬的聯通分量 ID。這些 ID 可以透過在 GUI 中按下 `L` 鍵來顯示。